<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Write an R data frame to a SQL Server table — write_dataframe_to_db • RtoSQLServer</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Write an R data frame to a SQL Server table — write_dataframe_to_db"><meta name="description" content='R data frame rows are initially loaded into a staging table in batches.
See vignette("load_method") for more information. The
data frame column data types are mapped to equivalents in SQL Server.'><meta property="og:description" content='R data frame rows are initially loaded into a staging table in batches.
See vignette("load_method") for more information. The
data frame column data types are mapped to equivalents in SQL Server.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RtoSQLServer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/RtoSQLServer.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/RtoSQLServer.html">Get started</a></li>
    <li><a class="dropdown-item" href="../articles/read_filter.html">Read table with column or row filtering</a></li>
    <li><a class="dropdown-item" href="../articles/load_method.html">Table loading method description</a></li>
    <li><a class="dropdown-item" href="../articles/why_use.html">Why use this package?</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ScotGovAnalysis/RtoSQLServer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Write an R data frame to a SQL Server table</h1>
      <small class="dont-index">Source: <a href="https://github.com/ScotGovAnalysis/RtoSQLServer/blob/main/R/write_dataframe_to_db.R" class="external-link"><code>R/write_dataframe_to_db.R</code></a></small>
      <div class="d-none name"><code>write_dataframe_to_db.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>R data frame rows are initially loaded into a staging table in batches.
See <code><a href="../articles/load_method.html">vignette("load_method")</a></code> for more information. The
data frame column data types are mapped to equivalents in SQL Server.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">write_dataframe_to_db</span><span class="op">(</span></span>
<span>  <span class="va">server</span>,</span>
<span>  <span class="va">database</span>,</span>
<span>  <span class="va">schema</span>,</span>
<span>  <span class="va">table_name</span>,</span>
<span>  <span class="va">dataframe</span>,</span>
<span>  append_to_existing <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  batch_size <span class="op">=</span> <span class="fl">1e+05</span>,</span>
<span>  versioned_table <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-server">server<a class="anchor" aria-label="anchor" href="#arg-server"></a></dt>
<dd><p>Server instance where SQL Server database running.</p></dd>


<dt id="arg-database">database<a class="anchor" aria-label="anchor" href="#arg-database"></a></dt>
<dd><p>Name of SQL Server database where table will be written.</p></dd>


<dt id="arg-schema">schema<a class="anchor" aria-label="anchor" href="#arg-schema"></a></dt>
<dd><p>Name of schema in SQL Server database where table will
be created.</p></dd>


<dt id="arg-table-name">table_name<a class="anchor" aria-label="anchor" href="#arg-table-name"></a></dt>
<dd><p>Name of table to be created in SQL Server database.</p></dd>


<dt id="arg-dataframe">dataframe<a class="anchor" aria-label="anchor" href="#arg-dataframe"></a></dt>
<dd><p>Source R dataframe that will be written to SQL Server
database.</p></dd>


<dt id="arg-append-to-existing">append_to_existing<a class="anchor" aria-label="anchor" href="#arg-append-to-existing"></a></dt>
<dd><p>Boolean if TRUE then rows will be appended to
existing
database table (if exists). Default FALSE.</p></dd>


<dt id="arg-batch-size">batch_size<a class="anchor" aria-label="anchor" href="#arg-batch-size"></a></dt>
<dd><p>Source R dataframe rows will be loaded into a staging SQL
Server table in batches of this many rows at a time.</p></dd>


<dt id="arg-versioned-table">versioned_table<a class="anchor" aria-label="anchor" href="#arg-versioned-table"></a></dt>
<dd><p>Create table with SQL Server system versioning.
Defaults to FALSE. If appending to existing table will not
change existing versioning status. If overwriting an existing
versioned table may receive permissions error due to dropping existing
versioned table failing. Contact a sysadmin to drop the
versioned table for you.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Can create table optionally with system versioning on. However, extra
permissions may be required to drop or overwrite
system versioned tables so use this option with caution.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu">write_dataframe_to_db</span><span class="op">(</span></span></span>
<span class="r-in"><span>  server <span class="op">=</span> <span class="st">"my_server"</span>,</span></span>
<span class="r-in"><span>  schema <span class="op">=</span> <span class="st">"my_schema"</span>,</span></span>
<span class="r-in"><span>  table_name <span class="op">=</span> <span class="st">"output_table"</span>,</span></span>
<span class="r-in"><span>  dataframe <span class="op">=</span> <span class="va">my_df</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by the Scottish Government  <a href="mailto:statistics.enquiries@gov.scot"><i class="fas fa-envelope" aria-hidden="true"></i><span class="visually-hidden">Email Scottish Government&gt;</span></a>  <a href="https://github.com/scotgovanalysis" class="external-link"><i class="fab fa-github" aria-hidden="true"></i><span class="visually-hidden">Scottish Government GitHub profile&gt;</span></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

